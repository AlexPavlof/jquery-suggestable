{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/Suggestable.js"],"names":["KEY_UP","KEY_DOWN","KEY_ENTER","KEY_NUMENTER","KEY_ESCAPE","outerHeight","element","style","getComputedStyle","height","parseInt","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth","isVisible","offsetWidth","offsetHeight","getClientRects","length","Suggestable","options","hoverIndex","cache","itemSelector","term","Object","assign","inputElement","containerElement","getContainer","url","dataset","init","document","addEventListener","handlerMouseUp","bind","handlerSuggestableHide","handlerSuggestableShow","handlerSuggestableItemSelect","handlerSuggestableItemUnselect","setAttribute","handlerKeyDown","handlerKeyUp","id","Math","round","random","containerId","selector","querySelector","createElement","classList","add","display","parentNode","insertBefore","nextSibling","querySelectorAll","key","prototype","hasOwnProperty","call","status","response","Promise","reject","Error","statusText","resolve","json","fetch","encodeURIComponent","method","then","items","cleanResults","forEach","createSuggestableItem","dispatchEvent","CustomEvent","item","index","itemElement","termElement","suggestElement","textContent","query","substr","appendChild","suggestData","suggestIndex","toString","suggestUrl","delimiterElement","delimiterTextElement","handlerMouseOver","handlerMouseOut","handlerClick","Array","getItems","itemsElement","remove","event","targetElement","currentTarget","HTMLElement","detail","eventTarget","target","contains","value","keyCode","which","includes","preventDefault","pressEnterKey","pressArrowUpKey","pressArrowDownKey","Event","trim","cacheKey","indexOf","cachedValue","getCachedValue","fetchResults","data","processResults"],"mappings":"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","file":"Suggestable.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/Suggestable.js\");\n","/* eslint-disable no-case-declarations */\n// @flow\n\n/**\n * Up Key code.\n *\n * @type {number}\n */\nconst KEY_UP = 38;\n\n/**\n * Down rey code.\n *\n * @type {number}\n */\nconst KEY_DOWN = 40;\n\n/**\n * Enter key code.\n *\n * @type {number}\n */\nconst KEY_ENTER = 13;\n\n/**\n * Enter key code (numeric keyboard).\n *\n * @type {number}\n */\nconst KEY_NUMENTER = 108;\n\n/**\n * Escape key code.\n *\n * @type {number}\n */\nconst KEY_ESCAPE = 27;\n\n/**\n * Calculate outer height of given element with margins.\n *\n * @param  {HTMLElement} element\n * @return {number}\n */\nexport const outerHeight = (element: HTMLElement): number => {\n    const style = getComputedStyle(element);\n    let height  = parseInt(style.height, 10) || 0;\n\n    height += (parseInt(style.paddingTop, 10) || 0) + (parseInt(style.paddingBottom, 10) || 0);\n    height += (parseInt(style.marginTop, 10) || 0) + (parseInt(style.marginBottom, 10) || 0);\n    height += (parseInt(style.borderTopWidth, 10) || 0) + (parseInt(style.borderBottomWidth, 10) || 0);\n\n    return height;\n};\n\nexport const isVisible = (element: HTMLElement): boolean =>\n    !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\n\nexport default class Suggestable {\n    /**\n     * Default options.\n     *\n     * @type {Object}\n     */\n    options: Object = {\n        'data-url':          'suggestableUrl',\n        'container-class':   'suggestable-container',\n        'item-class':        'suggestable-item',\n        'item-active-class': 'suggestable-item-active',\n        'term-class':        'suggestable-term',\n        'suggest-class':     'suggestable-suggest',\n        'delimiter-text':    ' — ',\n        'delimiter-class':   'suggestable-delimiter',\n        'text-class':        'suggestable-text',\n        'term-min-length':   3,\n    };\n\n    /**\n     * Hovered element index.\n     *\n     * @type {number}\n     */\n    hoverIndex: number = -1;\n\n    /**\n     * Cache object.\n     *\n     * @type {Object}\n     */\n    cache: Object = {};\n\n    /**\n     * Selector for item with suggestion.\n     *\n     * @type {string}\n     */\n    itemSelector: string = '';\n\n    /**\n     * Input element.\n     *\n     * @type {HTMLInputElement}\n     */\n    inputElement: HTMLInputElement;\n\n    /**\n     * Main container element for suggestions.\n     *\n     * @type {HTMLElement}\n     */\n    containerElement: HTMLElement;\n\n    /**\n     * Term for suggestions search.\n     *\n     * @type {string}\n     */\n    term: string = '';\n\n    /**\n     * Url for suggestions request.\n     *\n     * @type {string}\n     */\n    url: string;\n\n    /**\n     * Constructor.\n     *\n     * @param {*}      element\n     * @param {Object} options\n     */\n    constructor(element: HTMLInputElement, options: Object = {}): void {\n        Object.assign(this.options, options);\n\n        this.inputElement = element;\n        this.containerElement = this.getContainer(this.inputElement);\n        this.itemSelector = `.${this.options['item-class']}`;\n        this.url = this.inputElement.dataset[this.options['data-url']];\n\n        this.init();\n    }\n\n    /**\n     * Initialization of main events.\n     */\n    init(): void {\n        document.addEventListener('mouseup', this.handlerMouseUp.bind(this), false);\n        (document.addEventListener: Function)(\n            'suggestable-hide',\n            this.handlerSuggestableHide.bind(this), false,\n        );\n        (document.addEventListener: Function)(\n            'suggestable-show',\n            this.handlerSuggestableShow.bind(this), false,\n        );\n        (document.addEventListener: Function)(\n            'suggestable-item-select',\n            this.handlerSuggestableItemSelect.bind(this), false,\n        );\n        (document.addEventListener: Function)(\n            'suggestable-item-unselect',\n            this.handlerSuggestableItemUnselect.bind(this), false,\n        );\n\n        this.inputElement.setAttribute('autocomplete', 'off');\n        this.inputElement.addEventListener('keydown', this.handlerKeyDown.bind(this), false);\n        this.inputElement.addEventListener('keyup', this.handlerKeyUp.bind(this), false);\n    }\n\n    /**\n     * Returns container element.\n     *\n     * @param  {HTMLElement} element\n     * @return {HTMLElement}\n     */\n    getContainer(element: HTMLElement): HTMLElement {\n        const id: string                         = element.id || (`sb${Math.round(Math.random() * 9999)}${1}`);\n        const containerId: string                = `${id}__container`;\n        const selector: string                   = `#${containerId}`;\n        let containerElement: HTMLElement | null = document.querySelector(selector);\n\n        if (!containerElement) {\n            containerElement = document.createElement('ul');\n\n            containerElement.classList.add(this.options['container-class']);\n            containerElement.id = containerId;\n            containerElement.style.marginTop = `${outerHeight(element)}px`;\n            containerElement.style.display = 'none';\n\n            if (element.parentNode) {\n                element.parentNode.insertBefore(containerElement, element.nextSibling);\n            }\n        }\n\n        return containerElement;\n    }\n\n    /**\n     * Returns all suggestions elements in DOM.\n     *\n     * @return {NodeList<HTMLElement>}\n     */\n    getItems(): NodeList<HTMLElement> {\n        return this.containerElement.querySelectorAll(this.itemSelector);\n    }\n\n    /**\n     * Returns cached suggestions values.\n     *\n     * @param  {string}             key\n     * @return {Array<Object>|null}\n     */\n    getCachedValue(key: string): Array<Object> | null {\n        if (!Object.prototype.hasOwnProperty.call(this.cache, key)) {\n            return null;\n        }\n\n        return this.cache[key];\n    }\n\n    /**\n     * Returns suggestions from remote API.\n     *\n     * @return {Promise<Array<Object>>}\n     */\n    fetchResults(): Promise<Array<Object>> {\n        /**\n         * Checks response status.\n         *\n         * @param  {Response}     response\n         * @return {Promise<any>}\n         */\n        const status = (response: Response): Promise<Response> => {\n            if (response.status < 200 || response.status >= 300) {\n                return Promise.reject(new Error(response.statusText));\n            }\n\n            return Promise.resolve(response);\n        };\n        /**\n         * Returns JSON data from response.\n         *\n         * @param  {Response}               response\n         * @return {Promise<Array<Object>>}\n         */\n        const json = (response: Response): Promise<Array<Object>> => response.json();\n\n        return fetch(`${this.url}?term=${encodeURIComponent(this.term)}`, {\n            method: 'GET',\n        }).then(status).then(json);\n    }\n\n    /**\n     * Process results from remote API.\n     *\n     * @param {Array<Object>} items\n     */\n    processResults(items: Array<Object>): void {\n        if (items.length === 0) {\n            return;\n        }\n\n        this.cleanResults();\n\n        items.forEach(this.createSuggestableItem.bind(this));\n\n        document.dispatchEvent(new CustomEvent('suggestable-show'));\n    }\n\n    /**\n     * Creates suggestion item and append it into DOM.\n     *\n     * @param {Object} item\n     * @param {number} index\n     */\n    createSuggestableItem(item: Object, index: number): void {\n        const itemElement: HTMLElement    = document.createElement('li');\n        const termElement: HTMLElement    = document.createElement('span');\n        const suggestElement: HTMLElement = document.createElement('span');\n\n        itemElement.style.display = 'none';\n        itemElement.classList.add(this.options['item-class']);\n\n        termElement.classList.add(this.options['term-class']);\n        termElement.textContent = this.term;\n\n        suggestElement.classList.add(this.options['suggest-class']);\n        suggestElement.textContent = item.query.substr(this.term.length);\n\n        itemElement.appendChild(termElement);\n        itemElement.appendChild(suggestElement);\n        itemElement.dataset.suggestData = item.query;\n        itemElement.dataset.suggestIndex = index.toString();\n        itemElement.dataset.suggestUrl = item['suggest-url'];\n\n        if (item['suggest-text'] !== '') {\n            const delimiterElement: HTMLElement     = document.createElement('span');\n            const delimiterTextElement: HTMLElement = document.createElement('span');\n\n            delimiterElement.classList.add(this.options['delimiter-class']);\n            delimiterTextElement.classList.add(this.options['text-class']);\n\n            delimiterElement.textContent = this.options['delimiter-text'];\n            delimiterTextElement.textContent = item['suggest-text'];\n\n            itemElement.appendChild(delimiterElement);\n            itemElement.appendChild(delimiterTextElement);\n        }\n\n        itemElement.style.display = 'block';\n\n        itemElement.addEventListener('mouseover', this.handlerMouseOver.bind(this), false);\n        itemElement.addEventListener('mouseout', this.handlerMouseOut.bind(this), false);\n        itemElement.addEventListener('click', this.handlerClick.bind(this), false);\n\n        this.containerElement.appendChild(itemElement);\n    }\n\n    /**\n     * Removes suggestions results from DOM.\n     */\n    cleanResults(): void {\n        Array.prototype.forEach.call(this.getItems(), (itemsElement: HTMLElement) => {\n            itemsElement.remove();\n        });\n    }\n\n    /**\n     * Handles the event on mouse over suggestion in DOM.\n     *\n     * @param {MouseEvent} event\n     */\n    handlerMouseOver(event: MouseEvent): void {\n        const targetElement: EventTarget = event.currentTarget;\n\n        if (!(targetElement instanceof HTMLElement)) {\n            return;\n        }\n\n        this.hoverIndex = parseInt(targetElement.dataset.suggestIndex, 10);\n\n        document.dispatchEvent(new CustomEvent('suggestable-item-select', {\n            detail: { element: targetElement },\n        }));\n    }\n\n    /**\n     * Handles an event when the cursor leaves the element.\n     *\n     * @param {MouseEvent} event\n     */\n    handlerMouseOut(event: MouseEvent): void {\n        const targetElement: EventTarget = event.currentTarget;\n\n        if (!(targetElement instanceof HTMLElement)) {\n            return;\n        }\n\n        this.hoverIndex = -1;\n\n        document.dispatchEvent(new CustomEvent('suggestable-item-unselect', {\n            detail: { element: targetElement },\n        }));\n    }\n\n    /**\n     * Handles the mouse up button event.\n     *\n     * @param {MouseEvent} event\n     */\n    handlerMouseUp(event: MouseEvent): void {\n        const eventTarget: EventTarget = event.target;\n\n        if (!(eventTarget instanceof HTMLElement)) {\n            return;\n        }\n\n        if (this.containerElement.contains(eventTarget)) {\n            return;\n        }\n\n        document.dispatchEvent(new CustomEvent('suggestable-hide'));\n    }\n\n    /**\n     * Handles the click event on suggestion in DOM.\n     *\n     * @param {Event} event\n     */\n    handlerClick(event: Event): void {\n        const targetElement: EventTarget = event.currentTarget;\n\n        if (!(targetElement instanceof HTMLElement)) {\n            return;\n        }\n\n        this.inputElement.value = targetElement.dataset.suggestData;\n\n        document.dispatchEvent(new CustomEvent('suggestable-hide'));\n        document.dispatchEvent(new CustomEvent('suggestable-click', {\n            detail: { item: targetElement },\n        }));\n    }\n\n    /**\n     * Handles \"hide suggestion\" event.\n     */\n    handlerSuggestableHide(): void {\n        this.containerElement.style.display = 'none';\n    }\n\n    /**\n     * Handles \"show suggestion\" event.\n     */\n    handlerSuggestableShow(): void {\n        this.hoverIndex = -1;\n        this.containerElement.style.display = 'block';\n    }\n\n    /**\n     * Handles \"select suggestion\" event.\n     *\n     * @param {CustomEvent} event\n     */\n    handlerSuggestableItemSelect(event: CustomEvent): void {\n        const { detail } = event;\n\n        if (!detail) {\n            return;\n        }\n\n        const { element } = detail;\n\n        if (!(element instanceof HTMLElement)) {\n            return;\n        }\n\n        Array.prototype.forEach.call(this.getItems(), (item: HTMLElement) => {\n            item.classList.remove(this.options['item-active-class']);\n        });\n\n        element.classList.add(this.options['item-active-class']);\n    }\n\n    /**\n     * Handles \"deselect suggestion\" event.\n     *\n     * @param {CustomEvent} event\n     */\n    handlerSuggestableItemUnselect(event: CustomEvent): void {\n        const { detail } = event;\n\n        if (!detail) {\n            return;\n        }\n\n        const { element } = detail;\n\n        if (!(element instanceof HTMLElement)) {\n            return;\n        }\n\n        element.classList.remove(this.options['item-active-class']);\n    }\n\n    /**\n     * Handles key down event on input field.\n     *\n     * @param  {KeyboardEvent} event\n     * @return {boolean}\n     */\n    handlerKeyDown(event: KeyboardEvent): void {\n        const keyCode = (event.keyCode || event.which);\n\n        if ([KEY_DOWN, KEY_UP, KEY_ENTER, KEY_NUMENTER].includes(keyCode)) {\n            event.preventDefault();\n        }\n\n        if (isVisible(this.containerElement)) {\n            switch (keyCode) {\n                case (KEY_ENTER || KEY_NUMENTER):\n                    this.pressEnterKey();\n                    break;\n\n                case KEY_UP:\n                    this.pressArrowUpKey();\n                    break;\n\n                case KEY_DOWN:\n                    this.pressArrowDownKey();\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    }\n\n    /**\n     * \"Enter\" key press action.\n     */\n    pressEnterKey(): void {\n        const items: NodeList<HTMLElement> = this.getItems();\n\n        if (!items.length) {\n            return;\n        }\n\n        const suggestElement: HTMLElement = items[this.hoverIndex];\n\n        if (!suggestElement) {\n            return;\n        }\n\n        suggestElement.dispatchEvent(new Event('click'));\n    }\n\n    /**\n     * \"Arrow up\" key press action.\n     */\n    pressArrowUpKey(): void {\n        const items: NodeList<HTMLElement> = this.getItems();\n\n        if (!items.length) {\n            return;\n        }\n\n        if (this.hoverIndex === -1 || this.hoverIndex <= 0) {\n            this.hoverIndex = items.length - 1;\n        } else {\n            this.hoverIndex -= 1;\n        }\n\n        const suggestElement: HTMLElement = items[this.hoverIndex];\n\n        if (!suggestElement) {\n            return;\n        }\n\n        suggestElement.dispatchEvent(new Event('mouseover'));\n        this.inputElement.value = suggestElement.dataset.suggestData;\n    }\n\n    /**\n     * \"Arrow down\" key press action.\n     */\n    pressArrowDownKey(): void {\n        const items: NodeList<HTMLElement> = this.getItems();\n\n        if (!items.length) {\n            return;\n        }\n\n        if (this.hoverIndex === -1 || this.hoverIndex >= items.length - 1) {\n            this.hoverIndex = 0;\n        } else {\n            this.hoverIndex += 1;\n        }\n\n        const suggestElement: HTMLElement = items[this.hoverIndex];\n\n        if (!suggestElement) {\n            return;\n        }\n\n        suggestElement.dispatchEvent(new Event('mouseover'));\n        this.inputElement.value = suggestElement.dataset.suggestData;\n    }\n\n    /**\n     * Handles key up event on input field.\n     *\n     * @param {KeyboardEvent} event\n     */\n    handlerKeyUp(event: KeyboardEvent): void {\n        this.term = this.inputElement.value.trim();\n\n        const keyCode  = (event.keyCode || event.which);\n        const cacheKey = `${this.url}:${this.term}`;\n\n        if ([KEY_DOWN, KEY_UP, KEY_ENTER, KEY_NUMENTER, KEY_ESCAPE].indexOf(keyCode) === -1) {\n            if (this.term.length >= this.options['term-min-length']) {\n                const cachedValue = this.getCachedValue(cacheKey);\n\n                if (!cachedValue) {\n                    this.fetchResults().then((data) => {\n                        this.cache[cacheKey] = data;\n                        this.processResults(data);\n                    });\n                } else {\n                    this.processResults(cachedValue);\n                }\n            } else {\n                document.dispatchEvent(new CustomEvent('suggestable-hide'));\n            }\n        }\n\n        if (isVisible(this.containerElement) && keyCode === KEY_ESCAPE) {\n            document.dispatchEvent(new CustomEvent('suggestable-hide'));\n        }\n    }\n}\n"],"sourceRoot":""}